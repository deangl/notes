<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

    {% seo %}
    {% include head-custom.html %}
    <script>
      window.onload = function () {
	  var toc = "";
	  var level = 0;

	  document.getElementById("main_content").innerHTML =
              document.getElementById("main_content").innerHTML.replace(
		  /<h([\d])>([^<]+)<\/h([\d])>/gi,
		  function (str, openLevel, titleText, closeLevel) {
                      if (openLevel != closeLevel) {
			  return str;
                      }

                      if (openLevel > level) {
			  toc += (new Array(openLevel - level + 1)).join("<ul>");
                      } else if (openLevel < level) {
			  toc += (new Array(level - openLevel + 1)).join("</ul>");
                      }

                      level = parseInt(openLevel);

                      var anchor = titleText.replace(/ /g, "_");
                      toc += "<li><a href=\"#" + anchor + "\">" + titleText
			  + "</a></li>";

                      return "<h" + openLevel + "><a name=\"" + anchor + "\">"
			  + titleText + "</a></h" + closeLevel + ">";
		  }
              );

	  if (level) {
              toc += (new Array(level + 1)).join("</ul>");
	  }

	  document.getElementById("toc").innerHTML += toc;
      };
      </script>
  </head>

  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
        {% if site.github.is_project_page %}
        <a id="forkme_banner" href="{{ site.github.repository_url }}">View on GitHub</a>
        {% endif %}

        <h1 id="project_title">{{ page.title | default: site.title }}</h1>
        <h2 id="project_tagline">{{ page.description | default: site.description }}</h2>
      </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
	<div id="toc"></div>
	{{ content }}
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        {% if site.github.is_project_page %}
        <p class="copyright">{{ site.title | default: site.github.repository_name }} maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
        {% endif %}
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
