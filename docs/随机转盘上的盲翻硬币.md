---
title: "随机转盘上的盲翻硬币"
output: html_document
toc: false
mainfont: msyh
use_math: true
categories: [math]
tags: [数学,智力题,构造法,归纳法]
---
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
见过一道智力题，拓展了一下，如下。
> $2^N$个硬币，在一个转盘边沿上均匀的排了一圈。硬币的初始状态正反未知。接下来按闭上眼睛按轮次操作：
> * 每一轮可以一次性翻转任意多个硬币，但翻成什么样不知道。
> * 翻转完成后，转盘会随机转动一个角度。
> * 某一轮翻完，全部硬币变成正面算完成
> 要求：设计一个序列，保证可以在有限步内完成。

**解：**

我们假设存在一个操作序列，能够在$L(N)$步内解决$2^N$个硬币的问题。对应的操作序列为$S(N)$。

* 很显然，$N=0$的时候是可以完成的。

考虑$2^{N+1}$个硬币的情况，要怎么样和$2^N$个硬币对应起来呢？

* 如果每一个硬币同他对面的硬币(相隔$2^N$的那一个)的面是相同的，那么我们只要以这样的**硬币对**为单位进行$S(N)$操作就可以。那么现在问题转化到怎么样使得每个**硬币对** 都变成一致的。而这种单位的操作，不会改变任一**硬币对**的异或值。
* 注意到，每个**硬币对**如果只对其中的一个进行翻转，无论翻的是哪一个，对于**硬币对**的异或值都进行了一次变换。那么对于**硬币对**中的一半，进行$S(N)$的操作，总能出现每个**硬币对**的异或值是$0$的情况。

这两条组合起来，具体的操作方式为：
1. 对**硬币对**中的一半，进行$S(N)$中的**一步**操作；
2. 以**硬币对**为单位，完成一轮$S(N)$的**全部**操作；
3. 回到1，对**硬币对**中的一半，进行$S(N)$中的**下一步**操作。如此迭代。

这样，我们还能算出来需要的最大步数：$L(N+1) = (L(N)+1)^2-1 = 2^{2^N}-1$。



